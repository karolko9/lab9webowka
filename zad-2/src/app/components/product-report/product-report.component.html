<div class="container">
  <div class="input-section">
    <mat-form-field class="category-input">
      <mat-label>Wprowadź kategorie (oddzielone przecinkami)</mat-label>
      <input matInput [formControl]="categoryInput" placeholder="np. Samochody, Słodycze">
    </mat-form-field>
  </div>

  <div class="report-section">
    <div class="categories-list">
      <h2>Menu kategorii</h2>
      <mat-card *ngFor="let categoryData of categoryProducts" class="category-card">
        <mat-card-header>
          <mat-card-title>
            {{ categoryData.category }}
            <button mat-icon-button color="primary" (click)="selectCategory(categoryData.category)">
              <mat-icon>add_circle</mat-icon>
            </button>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            <mat-list-item *ngFor="let product of categoryData.products">
              {{ product.nazwa }} 
              <span *ngIf="product.marka">({{ product.marka }})</span>
              <button mat-icon-button color="primary" (click)="selectProduct(product)">
                <mat-icon>add</mat-icon>
              </button>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="selected-products">
      <h2>Wybrane produkty</h2>
      <mat-list>
        <mat-list-item *ngFor="let product of selectedProducts">
          {{ product.nazwa }}
          <span *ngIf="product.marka">({{ product.marka }})</span>
          <button mat-icon-button color="warn" (click)="removeSelected(product)">
            <mat-icon>remove</mat-icon>
          </button>
        </mat-list-item>
      </mat-list>
    </div>
  </div>
</div>
